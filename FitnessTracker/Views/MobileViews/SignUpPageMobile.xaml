<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
              xmlns:inputs="clr-namespace:Syncfusion.Maui.Inputs;assembly=Syncfusion.Maui.Inputs"
            xmlns:popup="clr-namespace:Syncfusion.Maui.Popup;assembly=Syncfusion.Maui.Popup"
            xmlns:buttons="clr-namespace:Syncfusion.Maui.Buttons;assembly=Syncfusion.Maui.Buttons"
            xmlns:input="clr-namespace:Syncfusion.Maui.Core;assembly=Syncfusion.Maui.Core"
             xmlns:otpinput="clr-namespace:Syncfusion.Maui.Toolkit.OtpInput;assembly=Syncfusion.Maui.Toolkit"
            xmlns:local="clr-namespace:FitnessTracker"
             x:Class="FitnessTracker.SignUpPageMobile"
             NavigationPage.HasNavigationBar="False">

    <Grid Background="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource FitnessTrackerContentBackgroundDark}}">
        <Grid.Resources>
            <Style TargetType="Button" x:Key="buttonstyle">
                <Setter Property="HeightRequest" Value="44"/>
                <Setter Property="CornerRadius" Value="28"/>
                <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}"/>
                <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryForegroundLight}, Dark={StaticResource FitnessTrackerPrimaryForegroundDark}}"/>
            </Style>
            <Style TargetType='input:SfTextInputLayout' x:Key="inputstyle">
                <Setter Property="ContainerType" Value="Outlined"/>
                <Setter Property="OutlineCornerRadius" Value="8"/>
                <Setter Property="WidthRequest" Value="312"/>
                <Setter Property="HeightRequest" Value="70"/>
                <Setter Property="Stroke" Value="#C9C6C8"/>
            </Style>
            <Style TargetType="Border" x:Key="comboboxborderstyle">
                <Setter Property="WidthRequest" Value="296"/>
                <Setter Property="HeightRequest" Value="44"/>
                <Setter Property="Stroke" Value="#C9C6C8"/>
                <Setter Property="StrokeShape">
                    <Setter.Value>
                        <RoundRectangle CornerRadius="8"/>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style TargetType="popup:SfPopup" x:Key="Popupstyle">
                <Setter Property="PopupStyle">
                    <Setter.Value>
                        <popup:PopupStyle HasShadow="True" CornerRadius="12"/>
                    </Setter.Value>
                </Setter>
            </Style>
        </Grid.Resources>
        
        <Grid Padding="32, 0" VerticalOptions="Center">
            <StackLayout x:Name="Signinpage" Spacing="20">
                <!--Logo-->
                <Image Source="fitnesstrackerlogo.png" HeightRequest="60"/>

                <!--Title-->
                <Label Text="Enter your credentials to sign in" FontSize="16" HorizontalTextAlignment="Center" Style="{StaticResource Header}"/>

                <!--Email Entry-->
                <input:SfTextInputLayout x:Name="signinemail"  ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" InputViewPadding="{OnPlatform Android='15, 15, 0, 0'}"  Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <Editor HeightRequest="30" FontSize="16" Text="{Binding Email}" Placeholder="Email" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" />
                    <input:SfTextInputLayout.HintLabelStyle>
                        <input:LabelStyle TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundAlt1Light}, Dark={StaticResource FitnessTrackerContentForegroundAlt1Dark}}" FontSize="12"/>
                    </input:SfTextInputLayout.HintLabelStyle>
                    <input:SfTextInputLayout.LeadingView>
                        <Label Text="&#xe706;" FontFamily="FitnessTrackerIcon" FontSize="18" Style="{StaticResource Icon}"/>
                    </input:SfTextInputLayout.LeadingView>
                </input:SfTextInputLayout>

                <!--Password Entry-->
                <input:SfTextInputLayout x:Name="signinpassword" ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <Entry x:Name="signinpasswordentry" IsPassword="True" HeightRequest="30" FontSize="16" Text="{Binding Password}" Placeholder="Password" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" />
                    <input:SfTextInputLayout.HintLabelStyle>
                        <input:LabelStyle TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundAlt1Light}, Dark={StaticResource FitnessTrackerContentForegroundAlt1Dark}}" FontSize="12"/>
                    </input:SfTextInputLayout.HintLabelStyle>
                    <input:SfTextInputLayout.LeadingView>
                        <Label Text="&#xe707;" FontFamily="FitnessTrackerIcon" FontSize="18" Style="{StaticResource Icon}"/>
                    </input:SfTextInputLayout.LeadingView>
                    <input:SfTextInputLayout.TrailingView>
                        <Label x:Name="Maskedeyelabel"  Text="&#xe753;" FontFamily="MauiSampleFontIcon" FontSize="18" Style="{StaticResource Icon}">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="Maskedeye_Tapped"/>
                            </Label.GestureRecognizers>
                        </Label>
                    </input:SfTextInputLayout.TrailingView>
                </input:SfTextInputLayout>

                <!--Remember Me & Forgot Password-->
                <Grid ColumnDefinitions="35,110,*" ColumnSpacing="10">
                    <buttons:SfCheckBox UncheckedColor="#C9C6C8" CheckedColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" IsChecked="True"/>
                    <Label Text="Remember me" VerticalOptions="Center" Grid.Column="1" Style="{StaticResource SubHeader}"/>
                    <Label Text="Forgot password ?" Grid.Column="2"
              TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" 
              HorizontalOptions="End"
              VerticalOptions="Center">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="forgotpasswordpage_Tapped"/>
                        </Label.GestureRecognizers>
                    </Label>
                </Grid>

                <!--Sign In Button-->
                <Button Text="Sign In" Style="{StaticResource buttonstyle}"  Clicked="SigninButton_Clicked"/>

                <!--Sign Up Text-->
                <HorizontalStackLayout HorizontalOptions="Start" Spacing="10" Padding="16, 0">
                    <Label Text="Don't have an account yet?" Style="{StaticResource SubHeader}" FontSize="16" FontFamily="Roboto"/>
                    <Label Text=" Sign Up" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" FontSize="16" FontFamily="Roboto">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="Signup_Tapped"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>

                <Grid ColumnDefinitions="*, auto, *" ColumnSpacing="10" >
                    <!--Left Line-->
                    <BoxView Grid.Column="0" Background="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" HeightRequest="1"
        VerticalOptions="Center" HorizontalOptions="FillAndExpand"/>

                    <!--Text-->
                    <Label Text="Or Continue with"
                      Style="{StaticResource SubHeader}"
                      FontSize="14" Grid.Column="1"
                      VerticalOptions="Center"/>

                    <!--Right Line-->
                    <BoxView Grid.Column="2" Background="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" HeightRequest="1" 
        VerticalOptions="Center" HorizontalOptions="FillAndExpand"/>
                </Grid>


                <!--Social Media Icons-->
                <HorizontalStackLayout HorizontalOptions="Center" Spacing="20">
                    <Image Source="googleicon.png" HeightRequest="40"/>
                    <Image Source="microsofticon.png" HeightRequest="40"/>
                    <Image Source="twittericon.png" HeightRequest="40"/>
                </HorizontalStackLayout>
            </StackLayout>
            <StackLayout x:Name="Signuppage" IsVisible="False" Spacing="15" >

                <!--App Logo-->
                <Image Source="fitnesstrackerlogo.png" HeightRequest="50" WidthRequest="50" HorizontalOptions="Center"/>

                <!--Title-->
                <Label Text="Enter your information to sign up"
          FontSize="14"
          HorizontalTextAlignment="Center" Style="{StaticResource Header}"/>

                <!--Input Fields-->
                <input:SfTextInputLayout x:Name="Name" ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" InputViewPadding="{OnPlatform Android='15, 0, 0, 0'}" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <input:SfTextInputLayout.HelperLabelStyle>
                        <input:LabelStyle TextColor="Red"/>
                    </input:SfTextInputLayout.HelperLabelStyle>
                    <Editor x:Name="NameEntry" HeightRequest="25" FontSize="16" Placeholder="Name" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" Text="{Binding Name}" TextChanged="Entry_TextChanged"/>
                </input:SfTextInputLayout>
                <input:SfTextInputLayout x:Name="Email" ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" InputViewPadding="{OnPlatform Android='15, 0, 0, 0'}" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <input:SfTextInputLayout.HelperLabelStyle>
                        <input:LabelStyle TextColor="Red"/>
                    </input:SfTextInputLayout.HelperLabelStyle>
                    <Editor x:Name="EmailEntry" HeightRequest="25" FontSize="16" Placeholder="Email" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" Text="{Binding Email}" TextChanged="Entry_TextChanged"/>
                </input:SfTextInputLayout>
                <input:SfTextInputLayout x:Name="Password" ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" InputViewPadding="{OnPlatform Android='15, 0, 0, 0'}" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <input:SfTextInputLayout.HelperLabelStyle>
                        <input:LabelStyle TextColor="Red"/>
                    </input:SfTextInputLayout.HelperLabelStyle>
                    <Editor x:Name="PasswordEntry" HeightRequest="25" FontSize="16" Placeholder="Password" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" Text="{Binding Password}" TextChanged="Entry_TextChanged"/>
                </input:SfTextInputLayout>
                <input:SfTextInputLayout x:Name="Confirmpassword" ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" InputViewPadding="{OnPlatform Android='15, 0, 0, 0'}" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <input:SfTextInputLayout.HelperLabelStyle>
                        <input:LabelStyle TextColor="Red"/>
                    </input:SfTextInputLayout.HelperLabelStyle>
                    <Editor x:Name="ConfirmpasswordEntry" HeightRequest="25" FontSize="16" Placeholder="Confirm Password" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" TextChanged="Entry_TextChanged"/>
                </input:SfTextInputLayout>
                <!--Terms and Conditions Checkbox-->
                <HorizontalStackLayout Spacing="5">
                    <buttons:SfCheckBox x:Name="termscheckbox" UncheckedColor="#C9C6C8" CheckedColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" StateChanged="Termscheckbox_StateChanged"/>
                    <Label VerticalTextAlignment="Center">
                        <Label.FormattedText>
                            <FormattedString>
                                <Span Text="I agree to " TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundLight}, Dark={StaticResource FitnessTrackerContentForegroundDark}}"/>
                                <Span Text="terms" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" />
                                <Span Text=" and " TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundLight}, Dark={StaticResource FitnessTrackerContentForegroundDark}}"/>
                                <Span Text="conditions." TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" />
                            </FormattedString>
                        </Label.FormattedText>
                    </Label>
                </HorizontalStackLayout>

                <!--Sign-Up Button-->
                <Button x:Name="signupbutton" Text="Sign up" IsEnabled="False" Style="{StaticResource buttonstyle}" Background="Gray" Clicked="SignupButton_Clicked"/>

                <!--Divider with 'Or Continue with'-->
                <Grid ColumnDefinitions="*, auto, *" ColumnSpacing="10">
                    <BoxView Grid.Column="0" Background="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" HeightRequest="1" 
                VerticalOptions="Center" HorizontalOptions="FillAndExpand"/>
                    <Label Text="Or Continue with"
              Style="{StaticResource SubHeader}"
              FontSize="14" Grid.Column="1"
              VerticalOptions="Center"/>
                    <BoxView Grid.Column="2" Background="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" HeightRequest="1" 
                VerticalOptions="Center" HorizontalOptions="FillAndExpand"/>
                </Grid>

                <!--Social Login Icons-->
                <HorizontalStackLayout HorizontalOptions="Center" Spacing="20">
                    <Image Source="googleicon.png" HeightRequest="40" />
                    <Image Source="microsofticon.png" HeightRequest="40"/>
                    <Image Source="twittericon.png" HeightRequest="40" />
                </HorizontalStackLayout>

                <!--Already Have an Account-->
                <HorizontalStackLayout HorizontalOptions="Center" Spacing="10">
                    <Label Text="Already have an account?" FontSize="16" FontFamily="Roboto" Style="{StaticResource SubHeader}"/>
                    <Label Text="Sign In" FontSize="16" FontFamily="Roboto" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" >
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="Signinpage_Tapped"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>

            </StackLayout>
            <StackLayout x:Name="forgotpasswordpage" IsVisible="False" Spacing="20" HorizontalOptions="Center" VerticalOptions="Center">
                <!--Logo-->
                <Image Source="fitnesstrackerlogo.png" HeightRequest="60"/>

                <!--Title-->
                <Label Text="Forgot Password" FontSize="16" HorizontalTextAlignment="Center" Style="{StaticResource Header}"/>
                <Label Text="Enter your email to receive a 4-digit verification code." Style="{StaticResource SubHeader}" FontSize="16" HorizontalTextAlignment="Center"/>

                <!--Email Entry-->
                <input:SfTextInputLayout x:Name="forgotpasswordemail" ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" InputViewPadding="{OnPlatform Android='15, 15, 0, 0'}" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <Editor HeightRequest="30" FontSize="16" Placeholder="Email" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" Text="{Binding Email}"/>
                    <input:SfTextInputLayout.HintLabelStyle>
                        <input:LabelStyle TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundAlt1Light}, Dark={StaticResource FitnessTrackerContentForegroundAlt1Dark}}" FontSize="12"/>
                    </input:SfTextInputLayout.HintLabelStyle>
                    <input:SfTextInputLayout.LeadingView>
                        <Label Text="&#xe706;" FontFamily="FitnessTrackerIcon" FontSize="18" Style="{StaticResource Icon}"/>
                    </input:SfTextInputLayout.LeadingView>
                </input:SfTextInputLayout>


                <!--Next Button In Button-->
                <Button Text="Next" Style="{StaticResource buttonstyle}" Clicked="NextPageButton_Clicked" FontSize="16"/>

                <HorizontalStackLayout HorizontalOptions="Center" Spacing="5">
                    <Label Text="Back to " FontSize="16" FontFamily="Roboto" Style="{StaticResource SubHeader}"/>
                    <Label Text="Sign In" FontSize="16" FontFamily="Roboto" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" >
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="Signinpage_Tapped"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>
            </StackLayout>
            <StackLayout IsVisible="False" x:Name="otppopup">
                <popup:SfPopup x:Name="OtpPopup" StartY="{OnPlatform Android=0}" RelativePosition="AlignBottomRight" IsOpen="False" Style="{StaticResource Popupstyle}" ShowOverlayAlways="False" WidthRequest="360" HeightRequest="180" HeaderHeight="50" AbsoluteX="{OnPlatform WinUI=-360,MacCatalyst=-365}" AbsoluteY="{OnPlatform WinUI=-180,MacCatalyst=-185}" 
                  ShowCloseButton="False" >
                    <!-- Popup Header -->
                    <popup:SfPopup.HeaderTemplate>
                        <DataTemplate>
                            <Label Text="OTP Authentication" FontAttributes="Bold" VerticalTextAlignment="Center" HorizontalTextAlignment="Center"
                               FontSize="{OnPlatform WinUI=18,MacCatalyst=20}" Background="{AppThemeBinding Light={StaticResource FitnessTrackerContentBackgroundLight}, Dark={StaticResource FitnessTrackerContentBackgroundDark}}"/>
                        </DataTemplate>
                    </popup:SfPopup.HeaderTemplate>
                    <popup:SfPopup.ContentTemplate>
                        <DataTemplate>
                            <VerticalStackLayout Padding="16, 0,0,16" Background="{AppThemeBinding Light={StaticResource FitnessTrackerContentBackgroundLight}, Dark={StaticResource FitnessTrackerContentBackgroundDark}}">
                                <Label x:Name="otplabel" LineBreakMode="WordWrap" Padding="0,0,0,15"
                                       FontSize="18"
                                       HorizontalTextAlignment="{OnPlatform MacCatalyst=Center}"
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center">
                                    <Label.FormattedText>
                                        <FormattedString>
                                            <Span Text="{Binding otpGreeting}" />
                                            <Span Text="{Binding otpCode}" FontAttributes="Bold" />
                                        </FormattedString>
                                    </Label.FormattedText>
                                </Label>
                                <Button Text="Copy OTP" WidthRequest="100" HeightRequest="40" Background="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryForegroundLight}, Dark={StaticResource FitnessTrackerPrimaryForegroundDark}}" Clicked="CopyOtpButton_Clicked" />
                            </VerticalStackLayout>
                        </DataTemplate>
                    </popup:SfPopup.ContentTemplate>
                </popup:SfPopup>

            </StackLayout>
            <StackLayout x:Name="verificationpage" IsVisible="False" Spacing="25" HorizontalOptions="Center" VerticalOptions="Center">
                <!--Logo-->
                <Image Source="fitnesstrackerlogo.png" HeightRequest="60"/>

                <!--Title-->
                <Label Text="Verification Code" FontSize="16" FontFamily="Roboto" HorizontalTextAlignment="Center" Style="{StaticResource Header}"/>
                <Label x:Name="Verificationtextlabel" Text="We send a verification code to" Style="{StaticResource SubHeader}" FontSize="16" HorizontalTextAlignment="Center"/>

                <!--Email Entry-->
                <!--<input:SfTextInputLayout ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <Entry IsPassword="True" x:Name="maskentry" HeightRequest="25" FontSize="16" Placeholder="Enter code" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" VerticalTextAlignment="Start"
                  TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundLight}, Dark={StaticResource FitnessTrackerContentForegroundDark}}" />
                </input:SfTextInputLayout>-->
                <otpinput:SfOtpInput x:Name="otpinput" Length="6"/>

                <!--Next Button In Button-->
                <Button Text="Next" Style="{StaticResource buttonstyle}" Clicked="VerificationNextpageButton_Clicked" FontSize="16"/>

                <HorizontalStackLayout Spacing="10" Padding="20,0,0,0">
                    <Label Text="Didn't receive a code?" Style="{StaticResource SubHeader}" FontSize="16" FontFamily="Roboto"/>
                    <Label Text="Resend it" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" FontSize="16" FontFamily="Roboto">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="Resendbutton_Tapped"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>

                <HorizontalStackLayout HorizontalOptions="Center" Spacing="5">
                    <Label Text="Back to " Style="{StaticResource SubHeader}" FontSize="16" FontFamily="Roboto"/>
                    <Label Text="Sign In" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" FontSize="16" FontFamily="Roboto">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="Signinpage_Tapped"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>
            </StackLayout>
            <StackLayout x:Name="Resetpasswordpage" IsVisible="False" Spacing="20" HorizontalOptions="Center" VerticalOptions="Center">
                <!--Logo-->
                <Image Source="fitnesstrackerlogo.png" HeightRequest="60"/>

                <!--Title-->
                <Label Text="Reset Password" FontSize="16" FontFamily="Roboto" HorizontalTextAlignment="Center" Style="{StaticResource Header}"/>
                <Label Text="Set a new password for your account" Style="{StaticResource SubHeader}" FontSize="16" FontFamily="Roboto" HorizontalTextAlignment="Center"/>

                <!--Email Entry-->
                <input:SfTextInputLayout x:Name="newPassword" ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" InputViewPadding="{OnPlatform Android='15, 15, 0, 0'}" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <Entry x:Name="newPasswordEntry" HeightRequest="25" FontSize="16" Placeholder="New Password" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" VerticalTextAlignment="Start" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundLight}, Dark={StaticResource FitnessTrackerContentForegroundDark}}" />
                    <input:SfTextInputLayout.HintLabelStyle>
                        <input:LabelStyle TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundAlt1Light}, Dark={StaticResource FitnessTrackerContentForegroundAlt1Dark}}" FontSize="12"/>
                    </input:SfTextInputLayout.HintLabelStyle>
                    <input:SfTextInputLayout.LeadingView>
                        <Label Text="&#xe707;" FontFamily="FitnessTrackerIcon" FontSize="18" Style="{StaticResource Icon}"/>
                    </input:SfTextInputLayout.LeadingView>
                    <input:SfTextInputLayout.HelperLabelStyle>
                        <input:LabelStyle TextColor="Red"/>
                    </input:SfTextInputLayout.HelperLabelStyle>
                </input:SfTextInputLayout>
                <input:SfTextInputLayout x:Name="confirmPassword" ContainerType="Outlined" HeightRequest="70" ContainerBackground="Transparent" IsHintAlwaysFloated="True" InputViewPadding="{OnPlatform Android='15, 15, 0, 0'}" Stroke="{AppThemeBinding Light={StaticResource FitnessTrackerBorderLight}, Dark={StaticResource FitnessTrackerBorderDark}}" OutlineCornerRadius="8">
                    <Entry x:Name="confirmpasswordentry" HeightRequest="25" FontSize="16" Placeholder="Confirm Password" PlaceholderColor="{AppThemeBinding Light={StaticResource FitnessTrackerPlaceholderForegroundLight}, Dark={StaticResource FitnessTrackerPlaceholderForegroundDark}}" VerticalTextAlignment="Start"
                        IsPassword="True" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundLight}, Dark={StaticResource FitnessTrackerContentForegroundDark}}" />
                    <input:SfTextInputLayout.HintLabelStyle>
                        <input:LabelStyle TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerContentForegroundAlt1Light}, Dark={StaticResource FitnessTrackerContentForegroundAlt1Dark}}" FontSize="12" />
                    </input:SfTextInputLayout.HintLabelStyle>
                    <input:SfTextInputLayout.TrailingView>
                        <Label x:Name="maskedeyelabel"  Text="&#xe753;" FontFamily="MauiSampleFontIcon" FontSize="18" Style="{StaticResource Icon}">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="maskedeye_Tapped"/>
                            </Label.GestureRecognizers>
                        </Label>
                    </input:SfTextInputLayout.TrailingView>
                    <input:SfTextInputLayout.LeadingView>
                        <Label Text="&#xe707;" FontFamily="FitnessTrackerIcon" FontSize="18" Style="{StaticResource Icon}"/>
                    </input:SfTextInputLayout.LeadingView>
                    <input:SfTextInputLayout.HelperLabelStyle>
                        <input:LabelStyle TextColor="Red"/>
                    </input:SfTextInputLayout.HelperLabelStyle>
                </input:SfTextInputLayout>

                <!--Next Button In Button-->
                <Button Text="Reset" Style="{StaticResource buttonstyle}" Clicked="ResetPageButton_Clicked" FontSize="16"/>

                <HorizontalStackLayout HorizontalOptions="Center" Spacing="5">
                    <Label Text="Back to " Style="{StaticResource SubHeader}" FontSize="16" FontFamily="Roboto"/>
                    <Label Text="Sign In" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryBackgroundLight}, Dark={StaticResource FitnessTrackerPrimaryBackgroundDark}}" FontSize="16" FontFamily="Roboto">
                        <Label.GestureRecognizers>
                            <TapGestureRecognizer Tapped="Signinpage_Tapped"/>
                        </Label.GestureRecognizers>
                    </Label>
                </HorizontalStackLayout>
            </StackLayout>
            <StackLayout x:Name="passwordupdatedpage" IsVisible="False" Spacing="20" HorizontalOptions="Center" VerticalOptions="Center">
                <Label Text="&#xe705;" FontSize="56" FontFamily="FitnessTrackerIcon" HorizontalOptions="Center" TextColor="Green"/>
                <Label Text="Password Updated !" FontSize="16" FontFamily="Roboto" HorizontalTextAlignment="Center" Style="{StaticResource Header}"/>
                <Label HorizontalTextAlignment="Center" Padding="15" LineBreakMode="WordWrap" Style="{StaticResource SubHeader}" FontSize="16" FontFamily="Roboto" Text=" Please use your new password for login." />
                <Button Style="{StaticResource buttonstyle}" FontSize="16" Text="Sign In" Clicked="SigninButton_Clicked"/>
            </StackLayout>
            <StackLayout IsVisible="False" x:Name="sigininfailurepopup">
                <popup:SfPopup x:Name="failurepopup" StartY="{OnPlatform Android=0}" RelativePosition="AlignBottomRight" IsOpen="False" Style="{StaticResource Popupstyle}" ShowOverlayAlways="False" WidthRequest="360" HeightRequest="200" HeaderHeight="50" AbsoluteX="{OnPlatform WinUI=-360,MacCatalyst=-365}" AbsoluteY="{OnPlatform WinUI=-180,MacCatalyst=-185}" 
       ShowCloseButton="False" >
                    <!-- Popup Header -->
                    <popup:SfPopup.HeaderTemplate>
                        <DataTemplate>
                            <Label Text="Email Not Registered" FontAttributes="Bold" VerticalTextAlignment="Center" HorizontalTextAlignment="Center"
                    FontSize="{OnPlatform WinUI=20,MacCatalyst=20}" Background="{AppThemeBinding Light={StaticResource FitnessTrackerContentBackgroundLight}, Dark={StaticResource FitnessTrackerContentBackgroundDark}}"/>
                        </DataTemplate>
                    </popup:SfPopup.HeaderTemplate>
                    <popup:SfPopup.ContentTemplate>
                        <DataTemplate>
                            <VerticalStackLayout Padding="0,0,0,10" Background="{AppThemeBinding Light={StaticResource FitnessTrackerContentBackgroundLight}, Dark={StaticResource FitnessTrackerContentBackgroundDark}}">
                                <Label x:Name="otplabel" Text="No account found with this email. Please sign up or try a different email." LineBreakMode="WordWrap"  Padding="15,0,15,15"
                        FontSize="18" VerticalTextAlignment="{OnPlatform MacCatalyst=Center}"  HorizontalTextAlignment="{OnPlatform MacCatalyst=Center}"
                        HorizontalOptions="Center"
                        VerticalOptions="Center">
                                </Label>
                                <Button Text="Ok" WidthRequest="100" HeightRequest="40" TextColor="{AppThemeBinding Light={StaticResource FitnessTrackerPrimaryForegroundLight}, Dark={StaticResource FitnessTrackerPrimaryForegroundDark}}" Clicked="ClosepopupButton_Clicked" />
                            </VerticalStackLayout>
                        </DataTemplate>
                    </popup:SfPopup.ContentTemplate>
                </popup:SfPopup>

            </StackLayout>
        </Grid>
    </Grid>
</ContentView>